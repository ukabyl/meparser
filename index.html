<!DOCTYPE html>
<html>
<head>
	<title>parsing expression into graph</title>
	<style type="text/css">
		canvas{
			border: 1px solid #333;
		}
	</style>
</head>
<body>

	<form>
		<input type="text" id="expression">
		<button id="btn">Sketch</button>
	</form>

	<canvas width="300px" height="300px" id="canvas" style="margin: 0 auto; display: block;"></canvas>

	<script type="text/javascript">

		const expression = document.getElementById('expression');
		const btn = document.getElementById('btn');
		canvas = document.getElementById('canvas');
		ctx = canvas.getContext("2d");

		ctx.moveTo(150,300);
		ctx.lineTo(150,0);
		ctx.moveTo(0,150);
		ctx.lineTo(300,150);
		ctx.stroke();
		
		function move(i, expression){
			let x = i;
			let y = JSON.parse(JSON.stringify(expression))
			// ctx.fillRect(x * 5 + 150, - y * 5 + 150, 1, 1);
			// ctx.moveTo(x * 5 + 150, - y * 5 + 150);
			ctx.lineTo(x * 10 + 150, - y * 10 + 150);
		}

		btn.addEventListener('click', (e) => {
			e.preventDefault();
			console.log(expression.value);

				let x = -150;
				let y = eval(expression.value);
				ctx.moveTo(x * 10 + 150, - y * 10 + 150);

				// ctx.fillRect(x * 5 + 150, - y * 5 + 150, 1, 1);
			for (let i = -149; i < 149; i += 0.05) {
				move(i, expression.value);
			}
			ctx.stroke();
		})
			
	</script>
</body>
</html>